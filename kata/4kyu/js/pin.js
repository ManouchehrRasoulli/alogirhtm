/*
┌───┬───┬───┐
│ 1 │ 2 │ 3 │
├───┼───┼───┤
│ 4 │ 5 │ 6 │
├───┼───┼───┤
│ 7 │ 8 │ 9 │
└───┼───┼───┘
    │ 0 │
    └───┘
 */

var neighbors = {
    "0": ["8", "0"],
    "1": ["1", "2", "4"],
    "2": ["1", "2", "3", "5"],
    "3": ["2", "3", "6"],
    "4": ["1", "4", "5", "7"],
    "5": ["2", "4", "5", "6", "8"],
    "6": ["3", "5", "6", "9"],
    "7": ["4", "7", "8"],
    "8": ["5", "7", "8", "9", "0"],
    "9": ["6", "8", "9"]
}

function getPINs(observed) {
    let guesses = observed.split('');
    let v = guesses.shift();

    if (observed.length === 1) {
        return neighbors[observed];
    }

    let pins = [];
    let others = getPINs(guesses.join(''));

    let vng = neighbors[v];

    for (let i = 0; i < vng.length; i++) {
        for (j = 0; j < others.length; j++) {
            pins.push(vng[i] + others[j]);
        }
    }

    return pins;
}

console.log(getPINs("1"));
console.log(getPINs("11"));
console.log(getPINs("369"));
/*
    ["339","366","399","658","636",
    "258","268","669","668","266",
    "369","398","256","296","259",
    "368","638","396","238","356",
    "659","639","666","359","336",
    "299","338","696","269","358",
    "656","698","699","298","236","239"]
 */

/*
[
  '269', '239', '236', '238', '259', '256',
  '258', '266', '268', '299', '296', '298',
  '263', '265', '369', '339', '336', '338',
  '359', '356', '358', '366', '368', '399',
  '396', '398', '363', '365', '669', '639',
  '636', '638', '659', '656', '658', '666',
  '668', '699', '696', '698', '663', '665',
  '329', '326', '328', '333', '335', '353',
  '355', '389', '386', '388', '393', '395',
  '362'
]
 */